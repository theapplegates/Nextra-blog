"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{7988:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCusdis=void 0;let r=a(2983),s=a(1476);t.ReactCusdis=function(e){let t=r.useRef(null),a=e.attrs.host||"https://cusdis.com";return s.useScript(`${a}/js/cusdis.es.js`),s.useScript(e.lang?`${a}/js/widget/lang/${e.lang}.js`:""),r.useLayoutEffect(()=>{let e=window.renderCusdis;e&&e(t.current)},[e.attrs.appId,e.attrs.host,e.attrs.pageId,e.attrs.pageTitle,e.attrs.pageUrl,e.lang]),r.createElement(r.Fragment,null,r.createElement("div",{id:"cusdis_thread","data-host":a,"data-page-id":e.attrs.pageId,"data-app-id":e.attrs.appId,"data-page-title":e.attrs.pageTitle,"data-page-url":e.attrs.pageUrl,"data-theme":e.attrs.theme,style:e.style,ref:t}))}},1476:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.useScript=void 0;let r=a(2983);t.useScript=function(e){let[t,a]=r.useState(e?"loading":"idle");return r.useEffect(()=>{if(!e){a("idle");return}let t=document.querySelector(`script[src="${e}"]`);if(t)a(t.getAttribute("data-status"));else{(t=document.createElement("script")).src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let a=e=>{t.setAttribute("data-status","load"===e.type?"ready":"error")};t.addEventListener("load",a),t.addEventListener("error",a)}let r=e=>{a("load"===e.type?"ready":"error")};return t.addEventListener("load",r),t.addEventListener("error",r),()=>{t&&(t.removeEventListener("load",r),t.removeEventListener("error",r))}},[e]),t}}}]);